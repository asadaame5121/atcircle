# Webring プロジェクトロードマップ

このドキュメントは、MVP（Minimum Viable
Product）リリース後に取り組むべき将来の機能、アイデア、および技術的負債を追跡するためのものです。

## 完了した・安定した機能 (Done / Stable)

- [x] **ATProto / Bluesky 連携**:
  - [x] OAuthによるログインとプロフィール情報の取得。
  - [x] デプロイ環境（Fly.io）でのOAuthセッションの安定化（`PUBLIC_URL` 対応）。
  - [x] Lexicon の実装。
- [x] **ランタイムとデータベースの更新**:
  - [x] **Node.js 24** へのアップデート完了。
  - [x] `better-sqlite3` から **`node:sqlite`** (組み込みモジュール)
        への移行完了。
- [x] **RSS自動検出の改善**:
  - [x] `HTMLRewriter` を使用した堅牢な実装への移行。
- [x] **ウィジェットビルダー**:
  - [x] ダークモード対応、カラーテーマ、プレビュー、コード生成機能（`widget_builder.tsx`）。
- [x] **UXの洗練**:
  - [x] Webring作成時に作成者のサイトを自動登録。
  - [x] 「自分のサイトで参加」ボタンによる入力補助の実装（Joinフローの簡略化）。
  - [x] ログアウトフローの明示化。
- [x] **インフラ・デプロイ**:
  - [x] Fly.io への PaaS 移行完了（SQLite + Persistent Storage）。
  - [x] Docker化とポートバインディングの最適化（ビルドツールの削減）。

- [x] **UI/UX の刷新**:
  - [x] メニューの「Sites」を「Rings」に変更し、公開されているリングの一覧を表示。
  - [x] ダッシュボードの統合（所有リングと参加リングの一本化、権限ベースのメニュー表示）。
  - [x] はじめてのユーザー向けの導入テキストの追加。
- [x] **アンテナ機能 (Antenna Feature)**:
  - [x] Cron による RSS フィードの自動定期収集（Node.js 環境への最適化）。
  - [x] リングごとのフィルタリングが可能な集約タイムライン表示。
  - [x] **OPML エクスポート**: リングメンバーのフィードを一括購読できる機能。
  - [x] **管理者/オーナー向けツール**:
  - [x] サイトの承認制（モデレーション）フローの構築。
- [x] **管理者/開発用ツール**:
      手動同期機能の保護（レートリミットと専用ページへの配置）。
- [x] **ウィジェットのカスタマイズ**:
  - [x] PDSへのバナー画像アップロードと表示機能。
  - [x] 外部CSSリンク、カスタムラベルの実装。
  - [x] シンプルレイアウトの追加。
- [x] **自動テスト**:
  - [x] PlaywrightによるE2Eテスト環境の導入。

### ウィジェットのさらなるカスタマイズ:

- 画像の挿入
- CSSのlink化
- テキストの編集

### **招待機能の追加**:

- リングの招待機能の実装。


## バックログ (Backlog) High Priority

### 登録されたURLの検証

    ナビゲーションウィジェットが貼れないサイト（例えばTwitterのようなマイクロブログ）だったとき、どうするか。メンバーとしては認めつつも、Webringの遷移先としては除外するのがよいと思う。

### **利用規約、プライバシーポリシー**

- blueskyのアカウントで承認したときに、何が起こるかは説明したほうがよさそうだ。
- 実際のところ、blueskyのアカウント情報からは、プロフィール欄のhttpリンクを探索するくらいしか今はしていない。

### **国際化 (i18n)**:

- 多言語対応（日本語、英語など）。

### **ATProto データの分散保存 (将来計画)**:

- データベースに保存しているデータを PDS (Personal Data Server) へ移行。

## backlog low priority

### **Webmention を利用した機能**:

- サイト間での相互引用通知。

### **アナリティクス**:

- リングナビゲーションのクリックイベント集計。

### **ユーザープロフィールの強化**:

- Blueskyからのプロフィール情報の定期的な同期機能。

## 技術的負債・改善 (Technical Debt / Improvements)

- [ ] **セッション管理**:
  - KVバックエンドなどを利用した、より厳密なセッション制御。
- [ ] **自動テストの拡充**:
  - ナビゲーションロジックや OAuth フローに対する統合テストの追加。
